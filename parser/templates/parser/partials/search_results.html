{% extends 'parser/base_generic.html' %}

{%block content%}

{% block title %} <title>Results</title> {% endblock title %}

<h1 class="display-1 text-center">Результати</h1>

<section>
    {% include 'parser/partials/search.html' %}
</section>

{%if search_results%}


<table class="table table-striped table-hover table-bordered">
    <tr>
        <td>№</td>
        <td>Handler</td>
        <td>Telegram Id</td>
        <td>Forum of origin</td>
    </tr>
    {%for user in search_users%}
        <tr>
            <td>{{user.id}}</td>
            <td>{{user.handler}}</td>
            <td>{{user.user_id}}</td>
            <td><a href="{{user.forumOrigin}}">{{user.forumOrigin}}</a></td>
        </tr>
    {%endfor%}
</table>
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
    {%if search_users.has_previous%}
    <li class="page-item"><a class="btn btn-success" href="?spage=1">&laquo First</a></li>
    <li class="page-item"><a class="btn btn-success" href="?spage={{search_users.previous_page_number}}">Previous</a></li>
    {%endif%}
    
    {%for i in nums %}
    <li class="page-item"><a class="page-link" href="?spage={{forloop.counter}}">{{forloop.counter}}</a></li>
    {%endfor%}
    {%if search_users.has_next%}
    <li class="page-item"><a class="btn btn-success" href="?spage={{search_users.paginator.num_pages}}">Last &raquo</a></li>
    {%endif%}
    </ul>
    </nav>
    <br/>
    {{search_nums}}
    {%else%}
    <h class="display-1 text-center"> Нічого не було знайдено, спробуйте зробити запит ще раз, або змінити його</h2>
{%endif%}
<center>
    <a class="btn btn-success" href="/results">До усіх результатів </a>
</center>
{%endblock%}